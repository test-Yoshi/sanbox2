# Repository: sanbox2
## General Introduction
This README.md is automatically generated by the service. The main branch of this repository is automatically protected upon creation. This policy is applicable to all the new repositories created in the organization, "_test-Yoshi_".

## Usage and Notice
When users create a new repository in "_test-Yoshi_", the following process is automatically triggered. **Make sure to add a README.md file when users create new repository in "_test_Yoshi_"** (check "_Add a README file_" on the "_Create a new repository_" page). This initial commit will trigger the process below.

1. GitHub sends a Webhook to Amazon API gateway
2. The Webhook is captured by the AWS Lambda function
3. The function assesses the Webhook to see if it is for create event or not
4. If the repository is newly created, the Lambda function calls GitHub REST APIs to update the README file, protect the main branch, and to send notification to the administrator (yoshinori-ako)

## References
* [AWS with Github webhook](https://aws.amazon.com/jp/solutions/implementations/git-to-s3-using-webhooks/)
* [Receiving events using AWS Lambda function URLs](https://docs.aws.amazon.com/eventbridge/latest/userguide/eb-saas-furls.html)
* ["push" webhook event and payload](https://docs.github.com/ja/webhooks/webhook-events-and-payloads#push)
* [Github API, update branch protection](https://docs.github.com/ja/rest/branches/branch-protection?apiVersion=2022-11-28#update-branch-protection)
* [Github API, create or update file contents](https://docs.github.com/ja/rest/repos/contents?apiVersion=2022-11-28#create-or-update-file-contents)
* [Github API, creating an issue](https://docs.github.com/ja/issues/tracking-your-work-with-issues/creating-an-issue)
